<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>5_element.html</title>
</head>
<body>

    <h1>5_element.html</h1>
    <hr>

    <div id="root">
        <div class="item">
            <div class="name">이지은</div>
            <div class="age">31</div>
        </div>
        <div class="item">
            <div class="name">홍진호</div>
            <div class="age">42</div>
        </div>
        <div class="item">
            <div class="name">나단비</div>
            <div class="age">5</div>
        </div>
    </div>

    <script>
        // 1) 아이디를 지정하여 단일 요소를 불러오기
        // 문서상에서 id는 유일해야 하기 때문에, 반환형은 단일요소이다
        const root = document.getElementById('root')    // 문서에서 id를 이용하여 특정 요소를 가져온다

        // const items = document.getElementsByClassName('item') (x) --> 요즘에는 사용하지 않음

        // 2) css선택자를 이용하여 단일 요소를 불러오기
        // 만약, 선택자로 지정한 요소가 여러개라면, 가장 첫번째 요소 하나만 불러온다
        const firstItem = document.querySelector('.item')   // .item인 첫번째 요소가 불러와진다

        // 3) css선택자를 이용하여 여러 요소를 한번에 불러오기
        // 이때 반환형은 nodeList 타입이며, forEach 정도만 호출할 수 있다
        // 배열로 형변환을 원한다면, Array.from(nodeList)를 이용하면 된다
        const itemList = document.querySelectorAll('#root > .item')

        console.log(root)
        console.log(firstItem)
        console.log(itemList)

        itemList.forEach(item => {
            console.log(item.querySelector('.name').innerText)
        })

        const itemArray = Array.from(itemList)      // 배열로 바꾼다
        const dataArray = itemArray.map(item => {   // 배열로 map 함수 호출 가능
            const ob = {}
            ob.name = item.querySelector('.name').innerText    //  ex) <div class="name"><b>이지은</b></div>
            // 안의 태그까지 모두 가져오고 싶다면 innerHTML          ex) <b>이지은</b>
            // 안의 태그는 빼고 값만 가져오고 싶다면 innerText       ex) 이지은
            ob.age = +item.querySelector('.age').innerText
            // 문자열 앞에 +를 붙이면 숫자로 바뀐다. int num = Integer.parseInt(str)
            return ob
        })
        console.log(dataArray)  // 값만으로 구성한 객체 배열

    </script>
    
</body>
</html>